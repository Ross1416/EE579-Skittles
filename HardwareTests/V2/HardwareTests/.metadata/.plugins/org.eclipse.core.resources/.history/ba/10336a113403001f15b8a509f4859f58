#ifndef COMMON_H
#define COMMON_H

// Local libraries
#include "IndicatorLED.h"
#include "Button.h"

// Available clock information
#define SMCK_FREQ      1000000
#define ACLK_FREQ      32768

// Scheduler information
#define CLOCK_USED_SCHEDULER    SMCK_FREQ
#define SECOND_COUNT            1000

// Scheduler control
#define TIMER_INC_MS    2                            // Scheduler interrupts period (2 ms)

// Defines structure for program timing
struct Time {
    int sec;
    int ms;
};

// Defines structure containing all timings that events occur on
struct Scheduler {
    // Time when debouncing will finish
    struct Time debounce;
};

// Defines flags for hardware and software source to alert system to changes or readings
struct Flags {
    // When button pressed
    char button;

    // When button debounce finished
    char debounce;

    // When schedule timer ticks
    char timerA0;
};

// Indicator LED
struct IndicateLED indicatorLED;

// Start Button
struct Button startButton;

//Prototypes for common.c (background)
extern void setupTimerSchedule();
extern void timeIncrement(struct Time *time, int sec, int ms);

// Prototypes for main.c
extern void indicatorLEDTest(int port, int pin);
extern void startButtonTest(int port, int pin);
extern void initLEDPHY(int port, int pin);


#endif // COMMON_H
