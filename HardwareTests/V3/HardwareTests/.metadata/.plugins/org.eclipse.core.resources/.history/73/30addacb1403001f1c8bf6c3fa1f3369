#ifndef COMMON_H
#define COMMON_H

// Local libraries
#include "IndicatorLED.h"
#include "Button.h"

// Available clock information
#define SMCK_FREQ      1000000
#define ACLK_FREQ      32768

// Scheduler information
#define CLOCK_USED_SCHEDULER    SMCK_FREQ
#define SECOND_COUNT            1000

// Scheduler control
#define TIMER_INC_MS    2                            // Scheduler interrupts period (2 ms)

// Defines structure for program timing
struct Time {
    int sec;
    int ms;
};

// Defines structure containing all timings that events occur on
struct Scheduler {
    // Time when debouncing will finish
    struct Time debounce;
};

// Defines flags for hardware and software source to alert system to changes or readings
struct flags {
    // When button pressed
    char button;

    // When button debounce finished
    char debounce;

    // When schedule timer ticks
    char timerA0;
};

// Scheduling information
struct Time currentTime;                            // Variable containing soft clock - running count of time
struct Scheduler Schedule;                          // Schedule when events needing attended
struct flags flag;                                  // Flag when something ready to be attended

// Indicator LED
struct IndicateLED indicatorLED;

// Start Button
struct Button StartStop;

// Prototpyes
extern void indicatorLEDTest(int port, int pin);
extern void startButtonTest(int port, int pin);

#endif // COMMON_H
